X = zeros(400,2);
X(1:100,1) = 0:0.01:1-0.01;
X(1:100,2) = 1+0.3*rand(100,1)-0.3*rand(100,1);
X(101:200,1) = 1:0.02:3-0.02;
X(101:200,2) = 0.75+0.25*X(101:200,1).^1.75+0.3*rand(100,1)-0.3*rand(100,1);
X(201:300,1) = 1:0.02:3-0.02;
X(201:300,2) = 1.25-0.25*X(201:300,1).^1.75+0.3*rand(100,1)-0.3*rand(100,1);
X(301:400,1) = 1:0.02:3-0.02;
X(301:400,2) = 1+0.3*rand(100,1)-0.3*rand(100,1);
save('sim.mat','X')


R=0.05*rand(100,2);
a=R;
[m,n] = size(a);
b=zeros(m,n);
b(:,1)=a(:,1);
for i=2:n
for j=1:i-1
b(:,i)=b(:,i)-dot(a(:,i),b(:,j))/dot(b(:,j),b(:,j))*b(:,j);
end
b(:,i)=b(:,i)+a(:,i);
end
for k=1:n
b(:,k)=b(:,k)/norm(b(:,k));
end
A=X*b';
save('simulation.mat','A')
